
<!-- saved from url=(0086)https://mooshak.dcc.fc.up.pt/~pi/cgi-bin/execute/9415981350194654?view+PI057_TwoQueues -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link rel="stylesheet" href="./base.css" type="text/css">
</head>
<body bgcolor="white">
<center>
<table cellpadding="20" width="100%">
<tbody><tr>
<td id="Base">

<title>[PI057] - Two Queues</title>
<meta name="description" content="[PI057] - Two Queues">
<link rel="StyleSheet" href="./style.css" type="text/css">





<p id="en"><img src="./9415981350194654" height="20"> <b>English version</b> | [<a href="https://mooshak.dcc.fc.up.pt/~pi/cgi-bin/execute/9415981350194654?view+PI057_TwoQueues#pt">ver versão em português</a>]</p>


<hr size="2">

<p id="pt"><img src="./9415981350194654(1)" height="20"> <b>Versão em Português</b> | [<a href="https://mooshak.dcc.fc.up.pt/~pi/cgi-bin/execute/9415981350194654?view+PI057_TwoQueues#en">see english version</a>]</p>

<h2>[PI057] Two Queues</h2>

<p><font color="red">In this problem, you should only submit a file
<b>pi057.c</b> containing a line with <tt>#include "queue.h"</tt> and
a function <b>process()</b> as described below (a complete program is
not required). See the code to test at the end.</font>

</p><p>You may assume that the "queue implementation" used in class will be available on Mooshak.

</p><hr>

<h3>Method to Submit</h3>

<p></p><li><b><tt>void process(Queue *q, Queue *a, Queue *b)</tt></b><p></p>

<p>This function should process the elements in the queue <tt>q</tt>, where each pair consists of a name followed by an operation. Depending on the operation, the method should:
</p><ul>
  <li><b>Name A</b> - Add the name to queue <tt>a</tt>
  </li><li><b>Name B</b> - Add the name to queue <tt>b</tt>
  </li><li><b>Name X</b> - Add the name to the queue with fewer elements (<tt>a</tt> or <tt>b</tt>). If both queues have the same number of elements, the name is discarded and not added to either.
</li></ul>

<p>For example, if the queue <tt>q</tt> is {Luis,B,Pedro,A,Luisa,A,Joao,X,Jose,X,Miguel,B}, the following happens:
</p><ol>
  <li><i>Luis B</i> - Luis is added to queue <tt>b</tt>
  </li><li><i>Pedro A</i> - Pedro is added to queue <tt>a</tt>
  </li><li><i>Luisa A</i> - Luisa is added to queue <tt>a</tt>
  </li><li><i>Joao X</i> - Joao is added to queue <tt>b</tt>, which has only 1 element (Luis) compared to queue <tt>a</tt> (Pedro and Luisa)
  </li><li><i>Jose X</i> - Jose is discarded (both queues have 2 elements)
  </li><li><i>Miguel B</i> - Miguel is added to queue <tt>b</tt>
</li></ol>

<p>At the end, queue <tt>a</tt> contains {Pedro, Luisa} and queue
<tt>b</tt> contains {Luis, Joao, Miguel}. Queue <tt>q</tt> should be
empty.</p>

<hr>

<h3>Examples of input/output</h3>

<table class="main" cellpadding="4" border="1">
<tbody><tr>
       <th>Queue <i>q</i>, <i>a</i> eand <i>b</i> at start</th>
       <th>Queue <i>q</i>, <i>a</i> and <i>b</i> after the call</th>
</tr>
<tr>
  <td valign="top" class="left">
    q = {Luis,B,Pedro,A,Luisa,A,Joao,X,Jose,X,Miguel,B}<br>
    a = {}<br>
    b = {}
  </td>
  <td valign="top" class="left">
    q = {}<br>
    a = {Pedro, Luisa}<br>
    b = {Luis, Joao, Miguel}
  </td>
</tr>
<tr>
  <td valign="top" class="left">
    q = {Luis,B,Pedro,B,Luisa,X,Joao,X}<br>
    a = {}<br>
    b = {}
  </td>
  <td valign="top" class="left">
    q = {}<br>
    a = {Luisa,Joao}<br>
    b = {Luis,Pedro}
  </td>
</tr>
</tbody></table>

<h2>[PI057] Duas filas</h2>

<p><font color="red">Neste problema deverá apenas submeter um ficheiro
<b>pi057.c</b> contendo uma linha com <tt>#include "queue.h"</tt> e
uma função <b>process()</b> como a seguir se descreve (não é
necessário um programa completo). Ver o código para fazer testes no final.</font>

</p><p>Pode assumir que terá acesso no Mooshak à "implementação de filas" como dadas nas aulas.

</p><hr>

<h3>Método a submeter</h3>

<p></p></li><li><b><tt>void process(Queue *q, Queue *a, Queue *b)</tt></b><p></p>

<p>Esta função deve processar os elementos que vêm na fila <tt>q</tt> na forma de um nome seguido de uma operação. Consoante a operação deve fazer o seguinte:
  </p><ul>
    <li><b>Nome A</b> - Adiciona nome à fila <tt>a</tt>
    </li><li><b>Nome B</b> - Adiciona nome à fila <tt>b</tt>
    </li><li><b>Nome X</b> - Adiciona nome à fila que tenha menos elementos (<tt>a</tt> ou <tt>b</tt>). Se ambas as filas tiverem o mesmo número de elementos, o nome é descartado e não é adicionada a nenhuma.
  </li></ul>

<p>Por exemplo, se a fila <tt>q</tt> fosse {Luis,B,Pedro,A,Luisa,A,Joao,X,Jose,X,Miguel,B} acontecia o seguinte:
  </p><ol>
    <li><i>Luis B</i> - Luis é adicionado à fila <tt>b</tt>
    </li><li><i>Pedro A</i> - Pedro é adicionado à fila <tt>a</tt>
    </li><li><i>Luisa A</i> - Luisa é adicionada à fila <tt>a</tt>
    </li><li><i>Joao X</i> - Joao é adicionado à fila <tt>b</tt>, que tem apenas 1 elemento (Luis) contra os dois da fila  <tt>b</tt> (Pedro e Luisa)
    </li><li><i>Jose X</i> - José descartado (ambas as filas têm 2 elementos)
    </li><li><i>Miguel B</i> - Miguel é adicionado à fila <tt>b</tt>
  </li></ol>

  <p>No final a fila <tt>a</tt> fica com {Pedro,Luisa} e a fila <tt>b</tt> fica com {Luis,Joao,Miguel}. A fila <tt>q</tt> deve ficar vazia.</p>

<hr>

<h3>Exemplos de input/output</h3>

<table class="main" cellpadding="4" border="1">
<tbody><tr>
       <th>Fila <i>q</i>, <i>a</i> e <i>b</i> no início</th>
       <th>Fila <i>q</i>, <i>a</i> e <i>b</i> no final da chamada</th>
</tr>
<tr>
  <td valign="top" class="left">
    q = {Luis,B,Pedro,A,Luisa,A,Joao,X,Jose,X,Miguel,B}<br>
    a = {}<br>
    b = {}
  </td>
  <td valign="top" class="left">
    q = {}<br>
    a = {Pedro, Luisa}<br>
    b = {Luis, Joao, Miguel}
  </td>
</tr>
<tr>
  <td valign="top" class="left">
    q = {Luis,B,Pedro,B,Luisa,X,Joao,X}<br>
    a = {}<br>
    b = {}
  </td>
  <td valign="top" class="left">
    q = {}<br>
    a = {Luisa,Joao}<br>
    b = {Luis,Pedro}
  </td>
</tr>
</tbody></table>

<h>
<h3>Como compilar localmente</h3>

<p>Para compilar localmente vai precisar de ter os ficheiros seguintes:
</p><ul>
  <li> queue.h e queue.c -- implementação de uma fila. Verificar se o
  NodeInfo está configurado para o tipo de dados a guardar na fila.
  </li><li> pi057.c -- o seu código com a função pedida
  </li><li> tests057.c -- ficheiro com a função main() e onde se trata da
  leitura e escrita.
</li></ul>
<p>Para compilar execute na pasta onde estão os ficheiros: <tt>gcc
tests057.c queue.c pi057.c</tt> que vai gerar um executável <tt>a.out</tt>

</p><p><b>Código para testes</b>, ficheiro: <tt>tests057.c</tt></p>

<!-- HTML generated using hilite.me --><div style="background: #f0f0f0; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #60a0b0; font-style: italic">// PI057 Testing Two Queues Problem</span>
<span style="color: #60a0b0; font-style: italic">// </span>

<span style="color: #007020">#include "queue.h"</span>

<span style="color: #902000">void</span> <span style="color: #06287e">process</span>(Queue <span style="color: #666666">*</span>, Queue <span style="color: #666666">*</span>, Queue <span style="color: #666666">*</span>);

<span style="color: #902000">int</span> <span style="color: #06287e">main</span>() {

  Queue q, a, b;
  initQueue(<span style="color: #666666">&amp;</span>q);   <span style="color: #60a0b0; font-style: italic">// queue with input</span>
  initQueue(<span style="color: #666666">&amp;</span>a);   <span style="color: #60a0b0; font-style: italic">// result queue for A</span>
  initQueue(<span style="color: #666666">&amp;</span>b);   <span style="color: #60a0b0; font-style: italic">// result queue for B</span>

  <span style="color: #902000">int</span> n;

  scanf(<span style="color: #4070a0">"%d"</span>, <span style="color: #666666">&amp;</span>n);                  <span style="color: #60a0b0; font-style: italic">// number of pairs</span>
  <span style="color: #007020; font-weight: bold">for</span> (<span style="color: #902000">int</span> i<span style="color: #666666">=</span><span style="color: #40a070">0</span>; i<span style="color: #666666">&lt;</span>n; i<span style="color: #666666">++</span>) {
    <span style="color: #902000">char</span> <span style="color: #666666">*</span>s<span style="color: #666666">=</span> (<span style="color: #902000">char</span> <span style="color: #666666">*</span>)malloc(<span style="color: #007020; font-weight: bold">sizeof</span>(MAXCHARS));
    <span style="color: #902000">char</span> <span style="color: #666666">*</span>op<span style="color: #666666">=</span> (<span style="color: #902000">char</span> <span style="color: #666666">*</span>)malloc(<span style="color: #007020; font-weight: bold">sizeof</span>(<span style="color: #40a070">2</span>));
    scanf(<span style="color: #4070a0">"%s %s"</span>, s, op);
    addLast(<span style="color: #666666">&amp;</span>q,s);
    addLast(<span style="color: #666666">&amp;</span>q,op);
  }

  printf(<span style="color: #4070a0">"Inicio: "</span>);
  printf(<span style="color: #4070a0">"q: "</span>); printQueue(<span style="color: #666666">&amp;</span>q); printf(<span style="color: #4070a0">"</span><span style="color: #4070a0; font-weight: bold">\n</span><span style="color: #4070a0">"</span>);
  printf(<span style="color: #4070a0">"a: "</span>); printQueue(<span style="color: #666666">&amp;</span>a); printf(<span style="color: #4070a0">"</span><span style="color: #4070a0; font-weight: bold">\n</span><span style="color: #4070a0">"</span>);
  printf(<span style="color: #4070a0">"b: "</span>); printQueue(<span style="color: #666666">&amp;</span>b); printf(<span style="color: #4070a0">"</span><span style="color: #4070a0; font-weight: bold">\n</span><span style="color: #4070a0">"</span>);
  process(<span style="color: #666666">&amp;</span>q, <span style="color: #666666">&amp;</span>a, <span style="color: #666666">&amp;</span>b);
  printf(<span style="color: #4070a0">"-------------------------------</span><span style="color: #4070a0; font-weight: bold">\n</span><span style="color: #4070a0">"</span>);
  printf(<span style="color: #4070a0">"Final: "</span>);
  printf(<span style="color: #4070a0">"q: "</span>); printQueue(<span style="color: #666666">&amp;</span>q); printf(<span style="color: #4070a0">"</span><span style="color: #4070a0; font-weight: bold">\n</span><span style="color: #4070a0">"</span>);
  printf(<span style="color: #4070a0">"a: "</span>); printQueue(<span style="color: #666666">&amp;</span>a); printf(<span style="color: #4070a0">"</span><span style="color: #4070a0; font-weight: bold">\n</span><span style="color: #4070a0">"</span>);
  printf(<span style="color: #4070a0">"b: "</span>); printQueue(<span style="color: #666666">&amp;</span>b); printf(<span style="color: #4070a0">"</span><span style="color: #4070a0; font-weight: bold">\n</span><span style="color: #4070a0">"</span>);
}
</pre></div>


<hr size="2">

<p align="center">Programação Imperativa (CC1003)<br>
DCC/FCUP - Faculdade de Ciências da Universidade do Porto</p>




</h></li></td>
</tr>
</tbody></table>
</center>


</body></html>