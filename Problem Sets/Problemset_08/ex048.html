
<!-- saved from url=(0088)https://mooshak.dcc.fc.up.pt/~pi/cgi-bin/execute/9415981350194654?view+PI048_Expressions -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link rel="stylesheet" href="./base.css" type="text/css">
</head>
<body bgcolor="white">
<center>
<table cellpadding="20" width="100%">
<tbody><tr>
<td id="Base">
  
    
    <title>[PI048] - Between Brackets</title>
<meta name="description" content="[PI048] - Between Brackets">
<link rel="StyleSheet" href="./style.css" type="text/css">

  



<p id="en"><img src="./9415981350194654" height="20"> <b>English version</b> | [<a href="https://mooshak.dcc.fc.up.pt/~pi/cgi-bin/execute/9415981350194654?view+PI048_Expressions#pt">ver versão em português</a>]</p>


<h2>PI048 - Between Brackets</h2>

<p><img align="right" src="./9415981350194654(1)" width="205" height="300" alt="" border="0">
Joanna was doing a math exercise when she came across the following expression:
</p><pre>( 1 + ( 2 + 3 * [ 4 + 5 * ( 6 * ( 7 ) ) ] ) )</pre>

<p>"So many brackets!" she thought. And before even starting the problem, another thought came to mind: 
"What if the teacher made a mistake and didn’t place the brackets correctly? Then it’s not even worth solving."
Joanna is quite the procrastinator.</p>

<p>Since Joanna trusts you, she’s asking for your help: write a
program that checks whether an expression has well-formed brackets so she can confidently get to work.</p>

<p>Your task is to build a bracket validator. It must determine if the brackets in a given mathematical expression
are well-formed and, if not, report the first position where an error occurs. You don’t need to worry about the actual
mathematics — just the brackets.</p>

<h3>Input</h3>

<p>The first line contains an integer <b>N</b>, the number of expressions to analyze.</p>

<p>The following <b>N</b> lines contain mathematical expressions with:</p>
<ul>
  <li>Digits, representing integer numbers</li>
  <li>Operators: <b>+</b>, <b>-</b>, <b>*</b>, or <b>/</b></li>
  <li>Round and square brackets: <b>(</b>, <b>)</b>, <b>[</b>, and <b>]</b></li>
  <li>Spaces between all elements of the expression</li>
</ul>

<p>You may assume the expressions are reasonably sized. Every component is separated by spaces,
and there are no characters other than the ones described above.</p>

<h3>Output</h3>

<p>For each expression, print a single line with one of the following
messages (in Portuguese):</p>
<ul>
  <li><tt>Expressao bem formada</tt> (<i>Well-formed expression</i>) – if all brackets are matched and properly nested</li>
  <li><tt>erro na posicao <i>POS</i></tt> (<i>Error at position POS</i>) – if a mismatched closing bracket is found at character position <i>POS</i></li>
  <li><tt>Ficam parenteses por fechar</tt> (<i>Unclosed brackets remain</i>) – if there are unmatched opening brackets by the end of the line</li>
</ul>

<p>Note: the position refers to the character index in the original line (starting at 0). For example, in the line <tt>( 1 + 2 )</tt>, 
the character <tt>(</tt> is at position 0, <tt>+</tt> is at position 4, and <tt>)</tt> is at position 8.</p>

<p>All non-bracket characters can be ignored — for this problem, only brackets matter.</p>

<h3>Example Input/Output</h3>

<table class="main" cellpadding="4" border="1">
<tbody><tr>
  <th>Input</th>
  <th>Output</th>
</tr>
<tr>
  <td valign="top" class="left">
<pre>5
( 1 )
( 1 + 2 ) )
[ ( ] )
( 1 + ( 2 )
( 1 + ( 2 + 3 * ( 4 + 5 * ( 6 * ( 7 ) ) ) ) )</pre>
  </td>
  <td valign="top" class="left">
<pre>Expressao bem formada
Erro na posicao 10
Erro na posicao 4
Ficam parenteses por fechar
Expressao bem formada</pre>
  </td>
</tr>
</tbody></table>

<p><b>Suggestion:</b> Use this code to handle the input and just implement the <tt>verify()</tt>
function and/or other functions that you may find necessary. Submit the full program.</p>

<!-- HTML generated using hilite.me --><div style="background: #f0f0f0; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #007020">#include &lt;stdio.h&gt;</span>
<span style="color: #007020">#include &lt;string.h&gt;</span>

<span style="color: #007020">#define MAX 200</span>
<span style="color: #007020">#define SKIPEOL {while (getchar()!='\n') ;}</span>

<span style="color: #902000">void</span> <span style="color: #06287e">verify</span>(<span style="color: #902000">char</span> <span style="color: #666666">*</span>line);

<span style="color: #902000">int</span> <span style="color: #06287e">main</span>() {	
  <span style="color: #902000">int</span> ncases;
  <span style="color: #902000">char</span> line[MAX];
  
  scanf(<span style="color: #4070a0">"%d"</span>,<span style="color: #666666">&amp;</span>ncases);
  SKIPEOL;	
  <span style="color: #007020; font-weight: bold">for</span> (<span style="color: #902000">int</span> c<span style="color: #666666">=</span><span style="color: #40a070">0</span>; c<span style="color: #666666">&lt;</span>ncases; c<span style="color: #666666">++</span>) {
    fgets(line,<span style="color: #007020; font-weight: bold">sizeof</span>(line),stdin);
    verify(line);
  }
}
</pre></div>

<p>


</p><hr size="2">

<p id="pt"><img src="./9415981350194654(2)" height="20"> <b>Versão em Português</b> | [<a href="https://mooshak.dcc.fc.up.pt/~pi/cgi-bin/execute/9415981350194654?view+PI048_Expressions#en">see english version</a>]</p>

<h2>PI048 - Entre Parênteses</h2>


<h3>O problema</h3>

<p><img align="right" src="./9415981350194654(1)" width="205" height="300" alt="" border="0">A
Joana estava a fazer um exercício de matemática quando se deparou com a seguinte expressão:
</p><pre>( 1 + ( 2 + 3 * [ 4 + 5 * ( 6 * ( 7 ) ) ] ) )</pre>
<p>"Tantos parênteses!", pensou ela. E antes de começar a fazer exercício pensou também: "E
se o professor pensou mal antes de começar a fazer o exercício e não colocou bem os
parênteses. Se assim for nem vale a pena fazer o exerício". É tão preguiçosa esta Joana.

</p><p>Como a Joana acredita em ti, tens de tentar fazer um programa que indique que a expressão
matemática está mesmo bem formada, para que ela tenha vontade de fazer o exercício.

</p><p>A tua tarefa é portanto fazer um analisador de expressões que ligue apenas aos parênteses.
Tens de conseguir dizer se os parênteses estão bem formados, e caso contrário, indicar
qual a posição onde foi encontrado o primeiro erro. E não é preciso explicar quando uma
expressão com parênteses está bem formada, pois não? 

</p><h3>Input</h3>

<p>A primeira linha contém um número <b>N</b>, indicando o número de expressões a analisar.
</p><p>As seguintes <b>N</b> linhas definem expressões matemáticas contendo:
</p><ul>
  <li> Dígitos, representando números inteiros
  </li><li> Caracteres, representando operações: <b>+</b>, <b>-</b>, <b>*</b> ou <b>/</b>
  </li><li> Parênteses curvos ou rectos: <b>(</b>, <b>)</b>, <b>[</b> ou <b>]</b>
  </li><li> Espaços separando as várias partes da expressão
</li></ul>
<p>Não podes assumir nenhum tamanho máximo para a expressão, mas é garantido que existem
espaços a separar todas as componentes da expressão.
 
</p><h3>Output</h3>

<p>Uma linha para cada expressão, indicando <b><tt>Expressao bem formada</tt></b> caso todos
os parenteses estejam bem emparelhados, <b><tt>Erro na posicao <i>POS</i></tt></b>,
caso seja descoberto um parênteses que não poderia aparecer naquele sítio (onde <b>POS</b> indica a posição na linha, começando a contar de zero,
desse mesmo parênteses que está incorrecto) ou <b><tt>Ficam parenteses por fechar</tt></b> caso chegando ao fim da expressão
fiquem ainda parênteses por fechar.

</p><p>Note-se que por posição entende-se o número de caracteres até chegar ao
sítio em causa. Por exemplo, na linha "<tt>( 1 + 2 )</tt>", o <tt>(</tt> está na posicao 0, o <tt>+</tt> na posição
4 e o <tt>)</tt> na posição 8.  

</p><p>Lembra-te que podes ignorar todo o conteúdo da expressão que não sejam parenteses, pois para este
problema em particular, é irrelevante.

</p><h3>Exemplo de input/output</h3>

<table class="main" cellpadding="4" border="1">
<tbody><tr>
       <th>Input</th>
       <th>Output</th>
</tr>
<tr>
       <td valign="top" class="left">
<pre>5
( 1 )
( 1 + 2 ) )
[ ( ] )
( 1 + ( 2 )
( 1 + ( 2 + 3 * ( 4 + 5 * ( 6 * ( 7 ) ) ) ) )</pre>
	   </td>
       <td valign="top" class="left">
<pre>Expressao bem formada
Erro na posicao 10
Erro na posicao 4
Ficam parenteses por fechar
Expressao bem formada
<pre></pre></pre></td>
</tr>
</tbody></table>

<p><b>Sugestão:</b> Use o código seguinte para a leitura e implemente
apenas a função <tt>verify()</tt> e outras que considere
necessárias. Submeta o programa completo.</p>

<!-- HTML generated using hilite.me --><div style="background: #f0f0f0; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #007020">#include &lt;stdio.h&gt;</span>
<span style="color: #007020">#include &lt;string.h&gt;</span>

<span style="color: #007020">#define MAX 200</span>
<span style="color: #007020">#define SKIPEOL {while (getchar()!='\n') ;}</span>

<span style="color: #902000">void</span> <span style="color: #06287e">verify</span>(<span style="color: #902000">char</span> <span style="color: #666666">*</span>line);

<span style="color: #902000">int</span> <span style="color: #06287e">main</span>() {	
  <span style="color: #902000">int</span> ncases;
  <span style="color: #902000">char</span> line[MAX];
  
  scanf(<span style="color: #4070a0">"%d"</span>,<span style="color: #666666">&amp;</span>ncases);
  SKIPEOL;	
  <span style="color: #007020; font-weight: bold">for</span> (<span style="color: #902000">int</span> c<span style="color: #666666">=</span><span style="color: #40a070">0</span>; c<span style="color: #666666">&lt;</span>ncases; c<span style="color: #666666">++</span>) {
    fgets(line,<span style="color: #007020; font-weight: bold">sizeof</span>(line),stdin);
    verify(line);
  }
}
  </pre></div>
  
<hr size="2">
<p align="center">Programação Imperativa (CC1003)<br>
DCC/FCUP - Faculdade de Ciências da Universidade do Porto</p>



</td>
</tr>
</tbody></table>
</center>


</body></html>